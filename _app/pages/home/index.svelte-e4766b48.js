var t=Object.defineProperty,e=Object.defineProperties,s=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(e,s,n)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,i=(t,e)=>{for(var s in e||(e={}))o.call(e,s)&&a(t,s,e[s]);if(n)for(var s of n(e))l.call(e,s)&&a(t,s,e[s]);return t};import{C as r,S as c,i as u,s as d,e as p,k as f,c as h,a as y,n as g,d as m,b as w,H as v,f as $,F as b,M as x,I as O,G as k,J as C,K as E,z as B,N as W,O as T,v as I,l as P,B as j,r as D,u as A,w as N,j as S,o as M,P as V,Q as H,D as L,E as R,R as U,T as G,y as _,U as q,m as K,V as X,W as Z,x as z,t as F,g as Y,X as J,Y as Q,Z as tt}from"../../chunks/vendor-a8776545.js";import{t as et,a as st,b as nt,c as ot}from"../../chunks/tasks.service-523b9e9b.js";import"../../chunks/task-api.service-ad79e11d.js";import{l as lt}from"../../chunks/loading.store-f916041b.js";import"../../chunks/tasks-search.store-8a767a0e.js";const at=r(null);function it(t){let e,s,n,o,l,a,i,r,c,u,d,E;return{c(){e=p("article"),s=p("img"),o=f(),l=p("section"),a=p("textarea"),i=f(),r=p("button"),c=p("img"),this.h()},l(t){e=h(t,"ARTICLE",{class:!0});var n=y(e);s=h(n,"IMG",{src:!0,alt:!0}),o=g(n),l=h(n,"SECTION",{class:!0});var u=y(l);a=h(u,"TEXTAREA",{style:!0,name:!0,placeholder:!0,rows:!0,class:!0}),y(a).forEach(m),i=g(u),r=h(u,"BUTTON",{});var d=y(r);c=h(d,"IMG",{class:!0,src:!0,alt:!0}),d.forEach(m),u.forEach(m),n.forEach(m),this.h()},h(){s.src!==(n=t[0])&&w(s,"src",n),w(s,"alt","task"),v(a,"background-color","#ccc"),w(a,"name","TaskText"),w(a,"placeholder","Start typing your task here..."),w(a,"rows","2"),w(a,"class","flex-grow rounded-md mr-2 p-1"),w(c,"class","h-10"),c.src!==(u="/images/send_button.svg")&&w(c,"src","/images/send_button.svg"),w(c,"alt","send button"),w(l,"class","flex mt-2"),w(e,"class","flex flex-col")},m(n,u){$(n,e,u),b(e,s),b(e,o),b(e,l),b(l,a),x(a,t[1]),b(l,i),b(l,r),b(r,c),d||(E=[O(a,"input",t[3]),O(r,"click",t[2])],d=!0)},p(t,[e]){1&e&&s.src!==(n=t[0])&&w(s,"src",n),2&e&&x(a,t[1])},i:k,o:k,d(t){t&&m(e),d=!1,C(E)}}}function rt(t,e,s){let n,o;return E(t,et,(t=>s(0,n=t))),E(t,st,(t=>s(1,o=t))),B((()=>{})),[n,o,function(){lt.set(!0);const t=W(et);my.postMessage({type:"uploadImage",uploadImageUrl:t}),at.set(void 0)},function(){o=this.value,st.set(o)}]}class ct extends c{constructor(t){super(),u(this,t,rt,it,d,{})}}const{window:ut}=q;function dt(t){let e,s,n,o,l,a,i,r,c,u,d,v=t[0].closeButton&&pt(t);var x=t[1];return x&&(a=new x({})),{c(){e=p("div"),s=p("div"),n=p("div"),v&&v.c(),o=f(),l=p("div"),a&&S(a.$$.fragment),this.h()},l(t){e=h(t,"DIV",{class:!0,style:!0});var i=y(e);s=h(i,"DIV",{class:!0,style:!0});var r=y(s);n=h(r,"DIV",{class:!0,role:!0,"aria-modal":!0,style:!0});var c=y(n);v&&v.l(c),o=g(c),l=h(c,"DIV",{class:!0,style:!0});var u=y(l);a&&K(a.$$.fragment,u),u.forEach(m),c.forEach(m),r.forEach(m),i.forEach(m),this.h()},h(){w(l,"class","content svelte-1u60umy"),w(l,"style",t[8]),w(n,"class","window svelte-1u60umy"),w(n,"role","dialog"),w(n,"aria-modal","true"),w(n,"style",t[7]),w(s,"class","window-wrap svelte-1u60umy"),w(s,"style",t[6]),w(e,"class","bg svelte-1u60umy"),w(e,"style",t[5])},m(i,r){$(i,e,r),b(e,s),b(s,n),v&&v.m(n,null),b(n,o),b(n,l),a&&M(a,l,null),t[38](n),t[39](s),t[40](e),c=!0,u||(d=[O(n,"introstart",(function(){T(t[12])&&t[12].apply(this,arguments)})),O(n,"outrostart",(function(){T(t[13])&&t[13].apply(this,arguments)})),O(n,"introend",(function(){T(t[14])&&t[14].apply(this,arguments)})),O(n,"outroend",(function(){T(t[15])&&t[15].apply(this,arguments)})),O(e,"mousedown",t[19]),O(e,"mouseup",t[20])],u=!0)},p(i,r){if((t=i)[0].closeButton?v?(v.p(t,r),1&r[0]&&I(v,1)):(v=pt(t),v.c(),I(v,1),v.m(n,o)):v&&(j(),D(v,1,1,(()=>{v=null})),A()),x!==(x=t[1])){if(a){j();const t=a;D(t.$$.fragment,1,0,(()=>{N(t,1)})),A()}x?(a=new x({}),S(a.$$.fragment),I(a.$$.fragment,1),M(a,l,null)):a=null}(!c||256&r[0])&&w(l,"style",t[8]),(!c||128&r[0])&&w(n,"style",t[7]),(!c||64&r[0])&&w(s,"style",t[6]),(!c||32&r[0])&&w(e,"style",t[5])},i(s){c||(I(v),a&&I(a.$$.fragment,s),V((()=>{i||(i=H(n,t[11],t[0].transitionWindowProps,!0)),i.run(1)})),V((()=>{r||(r=H(e,t[10],t[0].transitionBgProps,!0)),r.run(1)})),c=!0)},o(s){D(v),a&&D(a.$$.fragment,s),i||(i=H(n,t[11],t[0].transitionWindowProps,!1)),i.run(0),r||(r=H(e,t[10],t[0].transitionBgProps,!1)),r.run(0),c=!1},d(s){s&&m(e),v&&v.d(),a&&N(a),t[38](null),s&&i&&i.end(),t[39](null),t[40](null),s&&r&&r.end(),u=!1,C(d)}}}function pt(t){let e,s,n,o,l;const a=[ht,ft],i=[];function r(t,s){return 1&s[0]&&(e=!!t[16](t[0].closeButton)),e?0:1}return s=r(t,[-1]),n=i[s]=a[s](t),{c(){n.c(),o=P()},l(t){n.l(t),o=P()},m(t,e){i[s].m(t,e),$(t,o,e),l=!0},p(t,e){let l=s;s=r(t,e),s===l?i[s].p(t,e):(j(),D(i[l],1,1,(()=>{i[l]=null})),A(),n=i[s],n?n.p(t,e):(n=i[s]=a[s](t),n.c()),I(n,1),n.m(o.parentNode,o))},i(t){l||(I(n),l=!0)},o(t){D(n),l=!1},d(t){i[s].d(t),t&&m(o)}}}function ft(t){let e,s,n;return{c(){e=p("button"),this.h()},l(t){e=h(t,"BUTTON",{class:!0,style:!0}),y(e).forEach(m),this.h()},h(){w(e,"class","close svelte-1u60umy"),w(e,"style",t[9])},m(o,l){$(o,e,l),s||(n=O(e,"click",t[17]),s=!0)},p(t,s){512&s[0]&&w(e,"style",t[9])},i:k,o:k,d(t){t&&m(e),s=!1,n()}}}function ht(t){let e,s,n;var o=t[0].closeButton;function l(t){return{props:{onClose:t[17]}}}return o&&(e=new o(l(t))),{c(){e&&S(e.$$.fragment),s=P()},l(t){e&&K(e.$$.fragment,t),s=P()},m(t,o){e&&M(e,t,o),$(t,s,o),n=!0},p(t,n){if(o!==(o=t[0].closeButton)){if(e){j();const t=e;D(t.$$.fragment,1,0,(()=>{N(t,1)})),A()}o?(e=new o(l(t)),S(e.$$.fragment),I(e.$$.fragment,1),M(e,s.parentNode,s)):e=null}},i(t){n||(e&&I(e.$$.fragment,t),n=!0)},o(t){e&&D(e.$$.fragment,t),n=!1},d(t){t&&m(s),e&&N(e,t)}}}function yt(t){let e,s,n,o,l=t[1]&&dt(t);const a=t[37].default,i=L(a,t,t[36],null);return{c(){l&&l.c(),e=f(),i&&i.c()},l(t){l&&l.l(t),e=g(t),i&&i.l(t)},m(a,r){l&&l.m(a,r),$(a,e,r),i&&i.m(a,r),s=!0,n||(o=O(ut,"keydown",t[18]),n=!0)},p(t,n){t[1]?l?(l.p(t,n),2&n[0]&&I(l,1)):(l=dt(t),l.c(),I(l,1),l.m(e.parentNode,e)):l&&(j(),D(l,1,1,(()=>{l=null})),A()),i&&i.p&&(!s||32&n[1])&&R(i,a,t,t[36],n,null,null)},i(t){s||(I(l),I(i,t),s=!0)},o(t){D(l),D(i,t),s=!1},d(t){l&&l.d(t),t&&m(e),i&&i.d(t),n=!1,o()}}}function gt(t,n={}){return function(o){return new t((l=i({},o),a={props:i(i({},n),o.props)},e(l,s(a))));var l,a}}function mt(t,e,s){let{$$slots:n={},$$scope:o}=e;const l=U(),a=z;let{show:r=null}=e,{key:c="simple-modal"}=e,{closeButton:u=!0}=e,{closeOnEsc:d=!0}=e,{closeOnOuterClick:p=!0}=e,{styleBg:f={}}=e,{styleWindowWrap:h={}}=e,{styleWindow:y={}}=e,{styleContent:g={}}=e,{styleCloseButton:m={}}=e,{setContext:w=a}=e,{transitionBg:v=X}=e,{transitionBgProps:$={duration:250}}=e,{transitionWindow:b=v}=e,{transitionWindowProps:x=$}=e;const O={closeButton:u,closeOnEsc:d,closeOnOuterClick:p,styleBg:f,styleWindowWrap:h,styleWindow:y,styleContent:g,styleCloseButton:m,transitionBg:v,transitionBgProps:$,transitionWindow:b,transitionWindowProps:x};let k,C,E,B,W,T,I,P,j,D,A,N,S,M,V=i({},O),H=null;const L=t=>t?Object.keys(t).reduce(((e,s)=>`${e}; ${(t=>t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase())(s)}: ${t[s]}`),""):"",R=t=>!!(t&&t.constructor&&t.call&&t.apply),q=()=>{};let K=q,F=q,Y=q,J=q;const Q=(t,e={},n={},o={})=>{s(1,H=gt(t,e)),s(0,V=i(i({},O),n)),s(5,W=L(Object.assign({},{width:window.innerWidth,height:window.innerHeight},V.styleBg))),s(6,T=L(V.styleWindowWrap)),s(7,I=L(V.styleWindow)),s(8,P=L(V.styleContent)),s(9,j=L(V.styleCloseButton)),s(10,D=V.transitionBg),s(11,A=V.transitionWindow),s(12,K=t=>{o.onOpen&&o.onOpen(t),l("open"),l("opening")}),s(13,F=t=>{o.onClose&&o.onClose(t),l("close"),l("closing")}),s(14,Y=t=>{o.onOpened&&o.onOpened(t),l("opened")}),s(15,J=t=>{o.onClosed&&o.onClosed(t),l("closed")})},tt=(t={})=>{s(13,F=t.onClose||F),s(15,J=t.onClosed||J),s(1,H=null)};return w(c,{open:Q,close:tt}),G((()=>{tt()})),_((()=>{H?(B=window.scrollY,N=document.body.style.position,S=document.body.style.overflow,document.body.style.position="fixed",document.body.style.top=`-${B}px`,document.body.style.overflow="hidden"):(document.body.style.position=N||"",document.body.style.top="",document.body.style.overflow=S||"",window.scrollTo(0,B))})),t.$$set=t=>{"show"in t&&s(21,r=t.show),"key"in t&&s(22,c=t.key),"closeButton"in t&&s(23,u=t.closeButton),"closeOnEsc"in t&&s(24,d=t.closeOnEsc),"closeOnOuterClick"in t&&s(25,p=t.closeOnOuterClick),"styleBg"in t&&s(26,f=t.styleBg),"styleWindowWrap"in t&&s(27,h=t.styleWindowWrap),"styleWindow"in t&&s(28,y=t.styleWindow),"styleContent"in t&&s(29,g=t.styleContent),"styleCloseButton"in t&&s(30,m=t.styleCloseButton),"setContext"in t&&s(31,w=t.setContext),"transitionBg"in t&&s(32,v=t.transitionBg),"transitionBgProps"in t&&s(33,$=t.transitionBgProps),"transitionWindow"in t&&s(34,b=t.transitionWindow),"transitionWindowProps"in t&&s(35,x=t.transitionWindowProps),"$$scope"in t&&s(36,o=t.$$scope)},t.$$.update=()=>{2097152&t.$$.dirty[0]&&(R(r)?Q(r):tt())},[V,H,k,C,E,W,T,I,P,j,D,A,K,F,Y,J,R,tt,t=>{if(V.closeOnEsc&&H&&"Escape"===t.key&&(t.preventDefault(),tt()),H&&"Tab"===t.key){const e=E.querySelectorAll("*"),s=Array.from(e).filter((t=>t.tabIndex>=0));let n=s.indexOf(document.activeElement);-1===n&&t.shiftKey&&(n=0),n+=s.length+(t.shiftKey?-1:1),n%=s.length,s[n].focus(),t.preventDefault()}},t=>{!V.closeOnOuterClick||t.target!==k&&t.target!==C||(M=t.target)},t=>{V.closeOnOuterClick&&t.target===M&&(t.preventDefault(),tt())},r,c,u,d,p,f,h,y,g,m,w,v,$,b,x,o,n,function(t){Z[t?"unshift":"push"]((()=>{E=t,s(4,E)}))},function(t){Z[t?"unshift":"push"]((()=>{C=t,s(3,C)}))},function(t){Z[t?"unshift":"push"]((()=>{k=t,s(2,k)}))}]}class wt extends c{constructor(t){super(),u(this,t,mt,yt,d,{show:21,key:22,closeButton:23,closeOnEsc:24,closeOnOuterClick:25,styleBg:26,styleWindowWrap:27,styleWindow:28,styleContent:29,styleCloseButton:30,setContext:31,transitionBg:32,transitionBgProps:33,transitionWindow:34,transitionWindowProps:35},[-1,-1])}}function vt(t){let e,s,n,o;return{c(){e=p("img"),this.h()},l(t){e=h(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){w(e,"class","h-8"),e.src!==(s="/images/image.svg")&&w(e,"src","/images/image.svg"),w(e,"alt","attach")},m(s,l){$(s,e,l),n||(o=O(e,"click",t[3]),n=!0)},p:k,d(t){t&&m(e),n=!1,o()}}}function $t(t){let e,s,n,o,l,a,i,r;return{c(){e=p("label"),s=p("img"),o=f(),l=p("input"),this.h()},l(t){e=h(t,"LABEL",{for:!0,class:!0});var n=y(e);s=h(n,"IMG",{class:!0,src:!0,alt:!0}),n.forEach(m),o=g(t),l=h(t,"INPUT",{id:!0,type:!0,src:!0,alt:!0,width:!0,height:!0,class:!0}),this.h()},h(){w(s,"class","h-8"),s.src!==(n="/images/image.svg")&&w(s,"src","/images/image.svg"),w(s,"alt","attach"),w(e,"for","file-upload"),w(e,"class","custom-file-upload svelte-iyq58k"),w(l,"id","file-upload"),w(l,"type","file"),l.src!==(a="/images/image.svg")&&w(l,"src","/images/image.svg"),w(l,"alt","Submit"),w(l,"width","48"),w(l,"height","48"),w(l,"class","svelte-iyq58k")},m(n,a){$(n,e,a),b(e,s),$(n,o,a),$(n,l,a),i||(r=[O(s,"click",t[3]),O(l,"change",t[4])],i=!0)},p:k,d(t){t&&m(e),t&&m(o),t&&m(l),i=!1,C(r)}}}function bt(t){let e,s,n,o,l,a,i,r,c,u,d,v,k,E,B,W,T,P,j,A,H,L,R,U,G,_,q,X;function Z(t,e){return t[0]?vt:$t}e=new wt({props:{show:t[1]}}),e.$on("close",t[5]);let z=Z(t),et=z(t);return{c(){S(e.$$.fragment),s=f(),n=p("article"),o=p("section"),l=p("h1"),a=F("Hi Deon Du Toit, How can we help?"),i=f(),r=p("section"),c=p("textarea"),u=f(),d=p("section"),v=p("div"),k=p("img"),B=f(),et.c(),W=f(),T=p("div"),P=p("span"),j=F("Create Task"),A=f(),H=p("span"),L=F("+"),this.h()},l(t){K(e.$$.fragment,t),s=g(t),n=h(t,"ARTICLE",{class:!0});var p=y(n);o=h(p,"SECTION",{});var f=y(o);l=h(f,"H1",{class:!0});var w=y(l);a=Y(w,"Hi Deon Du Toit, How can we help?"),w.forEach(m),f.forEach(m),i=g(p),r=h(p,"SECTION",{class:!0});var $=y(r);c=h($,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),y(c).forEach(m),$.forEach(m),u=g(p),d=h(p,"SECTION",{class:!0});var b=y(d);v=h(b,"DIV",{class:!0});var x=y(v);k=h(x,"IMG",{class:!0,src:!0,alt:!0}),B=g(x),et.l(x),x.forEach(m),W=g(b),T=h(b,"DIV",{class:!0});var O=y(T);P=h(O,"SPAN",{class:!0});var C=y(P);j=Y(C,"Create Task"),C.forEach(m),A=g(O),H=h(O,"SPAN",{class:!0});var E=y(H);L=Y(E,"+"),E.forEach(m),O.forEach(m),b.forEach(m),p.forEach(m),this.h()},h(){w(l,"class","text-blue font-bold text-3xl"),w(c,"class","w-11/12 text-lg mt-3"),w(c,"rows","4"),w(c,"placeholder","Start typing your task here..."),w(r,"class","flex-grow h-full"),w(k,"class","h-8"),k.src!==(E="/images/voicenote.svg")&&w(k,"src","/images/voicenote.svg"),w(k,"alt","voicenote"),w(v,"class","flex items-center"),w(P,"class","text-xl mr-3"),w(H,"class","text-2xl font-bold"),w(T,"class",R=(t[2].length>0?"bg-blue-dark":"bg-blue-light")+" text-white px-3 py-2 rounded-3xl flex items-center"),w(d,"class","flex justify-between items-center"),w(n,"class","flex flex-col p-4 h-full justify-between")},m(p,f){M(e,p,f),$(p,s,f),$(p,n,f),b(n,o),b(o,l),b(l,a),b(n,i),b(n,r),b(r,c),x(c,t[2]),b(n,u),b(n,d),b(d,v),b(v,k),b(v,B),et.m(v,null),b(d,W),b(d,T),b(T,P),b(P,j),b(T,A),b(T,H),b(H,L),_=!0,q||(X=[O(c,"input",t[7]),O(T,"click",t[6])],q=!0)},p(t,[s]){const n={};2&s&&(n.show=t[1]),e.$set(n),4&s&&x(c,t[2]),z===(z=Z(t))&&et?et.p(t,s):(et.d(1),et=z(t),et&&(et.c(),et.m(v,null))),(!_||4&s&&R!==(R=(t[2].length>0?"bg-blue-dark":"bg-blue-light")+" text-white px-3 py-2 rounded-3xl flex items-center"))&&w(T,"class",R)},i(t){_||(I(e.$$.fragment,t),V((()=>{G&&G.end(1),U||(U=Q(n,tt,{x:-50,duration:250,delay:300})),U.start()})),_=!0)},o(t){D(e.$$.fragment,t),U&&U.invalidate(),G=J(n,tt,{x:-50,duration:250}),_=!1},d(t){N(e,t),t&&m(s),t&&m(n),et.d(),t&&G&&G.end(),q=!1,C(X)}}}function xt(t,e,s){let n,o;E(t,at,(t=>s(1,n=t))),E(t,st,(t=>s(2,o=t)));var l=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))((function(o,l){function a(t){try{r(n.next(t))}catch(e){l(e)}}function i(t){try{r(n.throw(t))}catch(e){l(e)}}function r(t){var e;t.done?o(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,i)}r((n=n.apply(t,e||[])).next())}))};let a,i,r;return B((()=>{at.set(void 0);try{my.postMessage({isWebView:"?"}),s(0,i=!0)}catch(t){s(0,i=!1)}st.subscribe((t=>{r=t.length>0}));try{my.onMessage=function(t){return l(this,void 0,void 0,(function*(){const e=t.attachmentId;yield nt.createTask(e),lt.set(!1)}))}}catch(t){console.log("Could not set on message handler, running in Super App?")}})),G((()=>{try{my.onMessage=function(){}}catch(t){}})),[i,n,o,function(){my.chooseImage({count:1,success:t=>{a=t.apFilePaths[0],et.set(a),at.set(ct)}})},function(t){const e=URL.createObjectURL(t.target.files.item(0));ot.set(t.target.files.item(0)),et.set(e),at.set(ct)},function(){et.set(void 0)},function(){return l(this,void 0,void 0,(function*(){r&&(lt.set(!0),yield nt.createTask(),lt.set(!1))}))},function(){o=this.value,st.set(o)}]}export default class extends c{constructor(t){super(),u(this,t,xt,bt,d,{})}}
