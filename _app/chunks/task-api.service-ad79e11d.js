import{C as t}from"./vendor-a8776545.js";const e=t(void 0),s="https://staging.heyjudeapp.com";const a=new class{constructor(){this.token="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvc3RhZ2luZy5oZXlqdWRlYXBwLmNvbVwvYXBpXC92MVwvYXV0aFwvc2lnbi1pbiIsImlhdCI6MTYyMjAwNzMzNywiZXhwIjoxNjIyMDEwOTM3LCJuYmYiOjE2MjIwMDczMzcsImp0aSI6Im9QZWZLaGNlS1FMNlU1WnkiLCJzdWIiOjU4MDgsInBydiI6Ijg3ZTBhZjFlZjlmZDE1ODEyZmRlYzk3MTUzYTE0ZTBiMDQ3NTQ2YWEiLCJhdXRob3JpemVkIjoxLCJ1c2VyX2lkIjo1ODA4fQ.-RaC6rBHIDIVXgPaUILrJ9UXr-1-40pJwvLc6ngVT60",this.apiKey="262c63bcf908cb585bee9c8968250e6e"}headers(){return this.token&&this.token.length>0?(console.log("Returning auth header"),{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json","x-api-key":this.apiKey}):{}}get(t){return fetch(s+"/"+t,{method:"GET",headers:this.headers()}).then((t=>t.json()))}post(t,e){return fetch(s+"/"+t,{method:"POST",headers:this.headers(),body:JSON.stringify(e)}).then((t=>t.json()))}};const n=new class{getOpenTasks(){return a.get("/api/v1/tasks/open")}getClosedTasks(){return a.get("/api/v1/tasks/closed")}getTask(t){const e=`api/v1/tasks/${t}`;return a.get(e)}cancelTask(t){const e=`api/v1/tasks/${t}/cancel`;return a.post(e)}closeTask(t){const e=`api/v1/tasks/${t}/close`;return a.post(e)}reopenTask(t){const e=`api/v1/tasks/${t}/reopen`;return a.post(e)}deleteTask(t){const e=`api/v1/tasks/${t}/delete`;return a.post(e)}messageTask(t,e){const s=`api/v1/tasks/${t}/message`,n={type:"text",text:e};return a.post(s,n)}messageAttachmentTask(t,e){const s=`api/v1/tasks/${t}/message`,n={type:"image",attachment_id:e};return a.post(s,n)}rateTask(t,e,s,n){const i=`api/v1/tasks/${t}/rate`,r={rating:s,message:e,unix_timestamp:"1566890811",reasons:n.join(", ")};return a.post(i,r)}getTaskRating(t){const e=`api/v1/tasks/${t}/rating`;return a.get(e)}setTaskRead(t){const e=`api/v1/tasks/${t}/read`;return a.post(e)}setTaskUnread(t){const e=`api/v1/tasks/${t}/unread`;return a.post(e)}createTask(t){t.initialMessage?t.initialMessage:t.title;const e=[];t.attachmentId&&e.push({type:"image",attachment_id:t.attachmentId});const s={title:t.title,create_default_message:!0,messages:e};return a.post("api/v1/tasks/create",JSON.stringify(s))}updateTask(t,e){const s=`api/v1/tasks/${t}`,n={title:e};return a.post(s,n)}};export{e as c,a as h,n as t};
